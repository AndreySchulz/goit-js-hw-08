{"mappings":"AAAA,MAAMA,EAAUC,SAASC,cAAc,kBAmBvC,MAQMC,EAAO,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,GAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAIvCC,EAAOV,IACX,IACE,MAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,GACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAG7Cb,EAAQkB,iBAAiB,SAzCLC,IAClB,MAAMC,KAAEA,EAAIf,MAAEA,GAAUc,EAAME,O,IAEZC,EAAlB,MAAMC,EAA2B,QAAfD,EAAAR,EALF,8BAKiB,IAAfQ,IAAmB,GACrCC,EAAUH,GAAQf,EAClBF,EAPgB,sBAOAoB,MAqClBvB,EAAQkB,iBAAiB,UA1BNC,IACfA,EAAMK,iBACN,MAAMD,EAAYT,EApBJ,uBAqBdF,QAAQa,IAAIF,GACZd,aAAaiB,WAtBC,0BAUlB,WACI,MAAMH,EAAYT,EAXJ,uBAYVS,GACAI,OAAOC,QAAQL,GAAWM,SAAQ,EAAET,EAAMf,MACtCL,EAAQ8B,SAASV,GAAMf,MAAQA,KA+B3C0B","sources":["src/js/03-feedback.js"],"sourcesContent":["const formRef = document.querySelector('.feedback-form');\nconst FEED_BACK = 'feedback-form-state';\n\nconst HandleInput = event => {\n  const { name, value } = event.target;\n\n  const savedData = load(FEED_BACK) ?? {};\n  savedData[name] = value;\n  save(FEED_BACK, savedData);\n};\n\nfunction initPage(){\n    const savedData = load(FEED_BACK);\n    if (savedData) {\n        Object.entries(savedData).forEach(([name, value]) => {\n            formRef.elements[name].value = value;\n        })\n    }\n}\nconst submitForm = event => {\n    event.preventDefault()\n    const savedData = load(FEED_BACK);\n    console.log(savedData);\n    localStorage.removeItem(FEED_BACK)\n}\n\n// static\nconst save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\nformRef.addEventListener('input', HandleInput);\nformRef.addEventListener(\"submit\", submitForm)\ninitPage()"],"names":["$945622fd0f572e60$var$formRef","document","querySelector","$945622fd0f572e60$var$save","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","$945622fd0f572e60$var$load","getItem","undefined","parse","addEventListener","event","name","target","ref","savedData","preventDefault","log","removeItem","Object","entries","forEach","elements","$945622fd0f572e60$var$initPage"],"version":3,"file":"03-feedback.53f1ea15.js.map"}